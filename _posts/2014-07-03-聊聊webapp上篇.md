---
layout: post
tags : [webapp mvc backbone route] 
---

## 一句话
主要介绍下自己开发了半年webapp的经验，肯定有很多不足的地方，随便写的，没太过脑子，大致从以下几个方面讲讲webapp的开发


###底层库选择
大部分底层库我看到的大部分都是 `zepto、backbone、underscore、iscroll`

I.zepto肯定是必选项,这个无须多解释

II.bakcbone和underscore两个合在一起说，因为backbone依赖underscore,个人建议还是不要用，从以下几个维度说说把

1).大小：对速度要求比较高的,尽量还是放弃backbone吧，1.1.2压缩后还有20k,这个对于移动端来说，大小上是需要仔细斟酌的

2).功能：backbone帮我们做了route、model、view这3个主要的事情，个人觉得除了路由的部分功能我们是必须的，对于业务相对简单的webapp来说，model和view自己实现一点问题都没有

3).业务：这个和第2点有点雷同，强调下，如果业务不是那么复杂的app尽量不要用backbone

III.[iscroll](http://www.gafish.net/api/iScroll.html)

阐述：

iscroll会诞生，主要是因为无论是在iphone、ipod、android 或是更早前的移动webkit都没有提供一种原生的方式来支持在一个固定高度的容器内滚动内容，截至2014年，IOS5、android4 添加如下样式 overflow:scroll; -webkit-overflow-scrolling:touch; 已经能够支持区域滚动了

好处：

1.iscroll下拉时滚动条的动画效果

2.下拉时右边不会出现滚动条，如果对视觉要求比较高的话

###实现
我的选择是zepto一个，如果有任何需要，都自己实现一套，这样保证大小最小，这里肯定有人担心2方面的问题，一个是开发成本，一个是代码质量，成本控制可以通过各种手段，这难不倒我们的程序员，重点说下代码质量的问题，代码质量的话这个我觉得可以引入requirejs帮助模块化开发，当然如果你觉得requirejs也大的话，那也自己实现一套，其实常用的也就define、exports、require,这个也不会有什么困难

1.route

大致想了下route实现的点需要注意的地方：

1).定义路由规则：将地址栏hash里面的值映射到我们的某个页面,这里面主要包括了页面名称和参数的规则

2).更新地址烂URL：从A进入B页面，需要更新成B页面的hash，这个应该是路由这个管理员做的事情，而不应该B页面自己做，所以大家再设计的时候需要把这个考虑进去

3).路由通知：从A进入B页面，B页面开始渲染，路由管理员需要通知A、c等页面B页面发生了渲染这个事情，so需要定义自定义事件，在页面发生加载的时候

2.localstorage

1).更新机制:这个可以通过前后端md5值比对，来通知前端应该请求新数据了,注意下业务方面的问题应该就ok了，这个不是什么难点

2).push机制:在数据发生变化的时候，能把这个变化push到view上面，这个原理也是自定义事件


3.controler

1).这个我觉得引入requirejs或者其他模块化开发的代码就足够我们管理好模块依赖、命名空间、代码质量等问题了

大概就想到这些，大家觉得有什么没考虑到的，都可以给我评论:)

如果你喜欢ED的文章就赶紧点`赞`吧~~
